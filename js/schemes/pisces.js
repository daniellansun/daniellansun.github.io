var Affix={init:function(t,e){this.element=t;this.offset=e||0;this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition();window.addEventListener("scroll",this.checkPosition.bind(this));window.addEventListener("click",this.checkPositionWithEventLoop.bind(this));window.matchMedia("(min-width: 992px)").addListener((t=>{if(t.matches){this.offset=NexT.utils.getAffixParam();this.checkPosition()}}))},getState:function(t,e,i,n){let o=window.scrollY;let s=window.innerHeight;if(i!=null&&this.affixed==="top"){if(document.querySelector(".content-wrap").offsetHeight<i)return"top";return o<i?"top":false}if(this.affixed==="bottom"){if(i!=null)return this.unpin<=this.element.getBoundingClientRect().top?false:"bottom";return o+s<=t-n?false:"bottom"}let f=this.affixed===null;let l=f?o:this.element.getBoundingClientRect().top+o;let h=f?s:e;if(i!=null&&o<=i)return"top";if(n!=null&&l+h>=t-n)return"bottom";return false},getPinnedOffset:function(){if(this.pinnedOffset)return this.pinnedOffset;this.element.classList.remove("affix-top","affix-bottom");this.element.classList.add("affix");return this.pinnedOffset=this.element.getBoundingClientRect().top},checkPositionWithEventLoop(){setTimeout(this.checkPosition.bind(this),1)},checkPosition:function(){if(window.getComputedStyle(this.element).display==="none")return;let t=this.element.offsetHeight;let{offset:e}=this;let i=e.top;let n=e.bottom;let{scrollHeight:o}=document.body;let s=this.getState(o,t,i,n);if(this.affixed!==s){if(this.unpin!=null)this.element.style.top="";let t="affix"+(s?"-"+s:"");this.affixed=s;this.unpin=s==="bottom"?this.getPinnedOffset():null;this.element.classList.remove("affix","affix-top","affix-bottom");this.element.classList.add(t)}if(s==="bottom"){this.element.style.top=o-t-n+"px"}}};NexT.utils.getAffixParam=function(){const t=CONFIG.sidebar.offset||12;let e=document.querySelector(".header-inner").offsetHeight;let i=document.querySelector(".footer").offsetHeight;document.querySelector(".sidebar").style.marginTop=e+t+"px";return{top:e,bottom:i}};document.addEventListener("DOMContentLoaded",(()=>{Affix.init(document.querySelector(".sidebar-inner"),NexT.utils.getAffixParam())}));